<ion-view view-title="Challenges">
  <ion-nav-buttons side="secondary">
    <button class="button button-clear button-positive" ng-click="modal.show()">New</button>
  </ion-nav-buttons>

  <ion-content>
    <ion-refresher pulling-text="Pull to refresh..." on-refresh="doRefresh()">
    </ion-refresher>
    <ion-list>
      <ion-item class="item-remove-animate item-avatar item-icon-right" ng-repeat="challenge in challenges" type="item-text-wrap">
        <img ng-src="{{ trimPicture(challenge.picture) }}">
        <h2>{{challenge.name}}</h2>

        <ion-option-button class="button-balanced" ng-click="leaveChallenge(challenge)">
          Leave
        </ion-option-button>
      </ion-item>
    </ion-list>
    <ion-list>
      <ion-item class="item-remove-animate item-avatar item-icon-right" ng-repeat="invite in invites" type="item-text-wrap">
        <img ng-src="{{ trimPicture(invite.picture) }}">
        <h2>{{invite.name}}</h2>

        <ion-option-button class="button-balanced" ng-click="acceptInvite(invite)">
          Accept
        </ion-option-button>
        <ion-option-button class="button-assertive" ng-click="ignoreInvite(invite)">
          Ignore
        </ion-option-button>
      </ion-item>
    </ion-list>
  </ion-content>
</ion-view>
